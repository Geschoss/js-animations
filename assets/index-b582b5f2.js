var R=Object.defineProperty;var z=(e,t,i)=>t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var r=(e,t,i)=>(z(e,typeof t!="symbol"?t+"":t,i),i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function i(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=i(s);fetch(s.href,o)}})();function D(e){const t=e.reduce((c,F)=>({...c,[F.settings.name]:F}),{}),i=document.getElementById("menu"),n=document.getElementById("canvas"),s=document.body,o=n.getContext("2d");let a=N(),l=H(a,t),g;G(t,i,K,l),A();function A(){let c={width:l.settings.width||s.offsetWidth,height:l.settings.height||s.offsetHeight};n.width=c.width,n.height=c.height,l.init(n,c),q()}function K(c){g&&cancelAnimationFrame(g),l&&l.destroy(n),l=t[c],A()}function q(){o.clearRect(0,0,n.width,n.height);let c={width:n.width,height:n.height};l.render(o,c),g=requestAnimationFrame(q)}}function H(e,t){let i=t[e];return e===""||i==null?t.balls:i}function N(){return window.location.pathname.split("/").slice(2)[0]||""}function U(e){window.history.pushState({},e,`/js-animations/${e}`)}function G(e,t,i,n){let s;Object.keys(e).map(o=>{let a=e[o],l=document.createElement("div");return l.classList.add("menu__item"),l.innerText=a.settings.name,n===a&&(s=l,s.classList.add("menu__item_selected")),l.addEventListener("click",()=>{s!==l&&(s&&s.classList.remove("menu__item_selected"),s=l,s.classList.add("menu__item_selected"),U(o),i(o))}),t.appendChild(l),l})}let f=class{constructor(t=0,i=0,n=0,s="#ff6600"){r(this,"x");r(this,"y");r(this,"r");r(this,"c");r(this,"vx");r(this,"vy");r(this,"originX");r(this,"originY");this.x=t,this.y=i,this.r=n,this.c=s,this.vx=0,this.vy=0,this.originX=t,this.originY=i}set(t,i){this.x=t,this.y=i}think(t,i){let n=this.x-t.x,s=this.y-t.y;if(Math.sqrt(n*n+s*s)<t.r){let a=Math.atan2(s,n),l=t.x+Math.cos(a)*t.r,g=t.y+Math.sin(a)*t.r;this.vx+=l-this.x,this.vy+=g-this.y}this.vx+=i.spring.vx(this.x,this.originX),this.vy+=i.spring.vy(this.y,this.originY),this.vx*=i.friction.vx(this.x,this.originX),this.vy*=i.friction.vy(this.x,this.originX),this.x+=this.vx,this.y+=this.vy}render(t){t.beginPath(),t.arc(this.x,this.y,this.r,0,2*Math.PI),t.fillStyle=this.c,t.fill(),t.closePath()}};class J{constructor(t){r(this,"x",0);r(this,"y",0);r(this,"pressed",!1);r(this,"rect");r(this,"canvas");r(this,"touch_start",()=>{this.pressed=!0});r(this,"touch_end",()=>{this.pressed=!1,this.x=0,this.y=0});r(this,"touch_move",t=>{let i=0,n=0,s=t.touches[0];s.pageX||s.pageY?(i=s.pageX,n=s.pageY):(i=s.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=s.clientY+document.body.scrollTop+document.documentElement.scrollTop),i-=this.canvas.offsetLeft,n-=this.canvas.offsetTop,this.x=i,this.y=n});this.canvas=t,t.addEventListener("touchstart",this.touch_start,!1),t.addEventListener("touchmove",this.touch_move,!1),t.addEventListener("touchend",this.touch_end,!1)}destroy(){this.canvas.removeEventListener("touchstart",this.touch_start,!1),this.canvas.removeEventListener("touchmove",this.touch_move,!1),this.canvas.removeEventListener("touchend",this.touch_end,!1)}}class P{constructor(t){r(this,"x",0);r(this,"y",0);r(this,"rect");r(this,"canvas");r(this,"move",t=>{let i=0,n=0;t.pageX||t.pageY?(i=t.pageX,n=t.pageY):(i=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=t.clientY+document.body.scrollTop+document.documentElement.scrollTop),i-=this.canvas.offsetLeft,n-=this.canvas.offsetTop,this.x=i,this.y=n});this.canvas=t,t.addEventListener("mousemove",this.move,!1)}destroy(){this.canvas.removeEventListener("mousemove",this.move,!1)}}class Q{constructor(){r(this,"keydown",t=>{console.log(t.code)});r(this,"keyup",t=>{console.log(t.code)});window.addEventListener("keydown",this.keydown,!1),window.addEventListener("keyup",this.keyup,!1)}destroy(){window.removeEventListener("keydown",this.keydown,!1),window.removeEventListener("keyup",this.keyup,!1)}}let v,X,w,V={friction:it(),spring:et()};const Z={settings:{name:"balls_2"},init:(e,t)=>{v=new P(e),X=tt(2e3,t),w=new f(100,100,20,"#eebe0a")},render:e=>{w.set(v.x,v.y),w.render(e),X.forEach(t=>{t.think(w,V),t.render(e)})},destroy(){v.destroy(),v=void 0,X=void 0,w=void 0}};function tt(e,t){let i=[],n=t.width/10,s=t.height/10;for(let o=0;o<e;o++){let a=n+Math.random()*(t.width-n*2),l=s+Math.random()*(t.height-s*2);i.push(new f(a,l,a>t.width/2?2:3,a>t.width/2?"#00bcd4":"#bdb76b"))}return i}function et(){let e=0,t=0;return{vx(i,n){let s=n>350?e:t;return-(i-n)*s},vy(i,n){let s=n>350?e:t;return-(i-n)*s}}}function it(){let e=.99,t=.4;return{vx(i,n){return n>350?e:t},vy(i,n){return n>350?e:t}}}let p,Y,_,nt={friction:lt(.5),spring:ot(.01)};const st={settings:{name:"balls"},init:(e,t)=>{p=new P(e),Y=rt(2e3,t),_=new f(100,100,20,"#eebe0a")},render:e=>{_.set(p.x,p.y),_.render(e),Y.forEach(t=>{t.think(_,nt),t.render(e)})},destroy(){p.destroy(),p=void 0,Y=void 0,_=void 0}};function rt(e,t){let i=[],n=t.width/10,s=t.height/10;for(let o=0;o<e;o++){let a=n+Math.random()*(t.width-n*2),l=s+Math.random()*(t.height-s*2);i.push(new f(a,l,2,"#ff0000"))}return i}function ot(e){return{vx(t,i){return-(t-i)*e},vy(t,i){return-(t-i)*e}}}function lt(e){return{vx(){return e},vy(){return e}}}let b,I,M,at={friction:Mt(.8),spring:bt(.007)};const ht={settings:{name:"p_dor"},init:e=>{b=new P(e),I=ct().map(t=>(t.set(100+Math.random()*500,100+Math.random()*400),t)),M=new f(100,100,20,"#eebe0a")},render:e=>{M.set(b.x,b.y),M.render(e),I.forEach(t=>{t.think(M,at),t.render(e)})},destroy(){b.destroy(),b=void 0,I=void 0,M=void 0}},dt="#ff0000",ut=2,d=(e,t,i=dt)=>new f(e,t,ut,i),h=20;function ct(){return[...ft(),...yt(),...mt(),...gt(),...vt(),...wt(),...pt()]}function ft(){return[...u(200,250,h,e=>d(e,100)),...u(100,150,h,e=>d(225,e))]}function yt(){return[...u(100,150,h,e=>d(270,e)),...k(270,135,h),...u(100,150,h,e=>d(310,e))]}function mt(){return[...u(170,220,h,e=>d(150,e)),...u(150,170,h,e=>d(e,170)),...u(170,220,h,e=>d(170,e))]}function gt(){return[...u(170,220,h,e=>d(190,e)),..._t(190,220,h),...u(170,220,h,e=>d(230,e))]}function vt(){return[...u(170,220,h,e=>d(260,e)),...k(260,195,h,25)]}function wt(){return[...k(325,185,h,15,1),...u(180,210,h,e=>d(310,e)),...u(180,210,h,e=>d(340,e)),...k(325,205,h,15,2)]}function pt(){return[...u(170,220,h,e=>d(370,e)),...k(370,185,h,15,1.5)]}function k(e,t,i,n=15,s=1.5){let o=[];for(var a=0;a<=i;a++)o.push(d(e+n*Math.cos(Math.PI*a/i+Math.PI*s),t+n*Math.sin(Math.PI*a/i+Math.PI*s)));return o}function _t(e,t,i){let n=[];for(var s=0;s<i;s++)n.push(d(e+2*s,t-2.5*s));return n}function u(e,t,i,n){let s=t-e,o=Math.trunc(s/(i-1)),a=[];for(let l=e;l<=t;l+=o)a.push(n(l));return a}function bt(e){return{vx(t,i){return-(t-i)*e},vy(t,i){return-(t-i)*e}}}function Mt(e){return{vx(){return e},vy(){return e}}}let B,x,m,xt={friction:$t(.99),spring:Et(0)};const kt={settings:{name:"balls_touch"},init:(e,t)=>{m=new J(e),B=Lt(2e3,t),x=new f(t.width/2,t.height/2,30,"#eebe0a")},render:e=>{m.pressed&&x.set(m.x,m.y),x.render(e),B.forEach(t=>{t.think(x,xt),t.render(e)})},destroy(){m.destroy(),m=void 0,B=void 0,x=void 0}};function Lt(e,t){let i=[],n=t.width/20,s=t.height/20;for(let o=0;o<e;o++){let a=n+Math.random()*(t.width-n*2),l=s+Math.random()*(t.height-s*2);i.push(new f(a,l,2,"#00bcd4"))}return i}function Et(e){return{vx(t,i){return-(t-i)*e},vy(t,i){return-(t-i)*e}}}function $t(e){return{vx(){return e},vy(){return e}}}const Tt=[kt,st,Z,ht];let L,C,S,j;const Pt={settings:{name:"arrow"},init(e){C=new Xt(150,150),L=new P(e),S=new f(100,100,20,"#eebe0a"),j=new Q},render(e){S.set(L.x,L.y),S.render(e),C.ratateTo(L),C.draw(e)},destroy(){j.destroy()}};class Xt{constructor(t=0,i=0,n="#ffff00"){r(this,"x");r(this,"y");r(this,"color","");r(this,"rotation",0);this.x=t,this.y=i,this.color=n,this.rotation=0}ratateTo({x:t,y:i}){let n=t-this.x,s=i-this.y;this.rotation=Math.atan2(s,n)}draw(t){t.save(),t.translate(this.x,this.y),t.rotate(this.rotation),t.lineWidth=2,t.fillStyle=this.color,t.beginPath(),t.moveTo(-50,-25),t.lineTo(0,-25),t.lineTo(0,-50),t.lineTo(50,0),t.lineTo(0,50),t.lineTo(0,25),t.lineTo(-50,25),t.lineTo(-50,-25),t.closePath(),t.fill(),t.stroke(),t.restore()}}let O,W,E,$,y=0;const Yt={settings:{name:"waves"},init(e,t){O=new T(t.width/2,t.height/2,40,"#ffee00"),W=new T(t.width/2,t.height/2,40,"#00ff00"),E=new T(t.width/2,t.height/2,40,"#0000ff"),$=new T(t.width/2,t.height/2,40)},render(e,t){y+=.03;let i=t.width/2,n=t.width/2;O.x=i+Math.sin(y*.2)*i,W.y=n+Math.sin(y*.3)*n,E.y=n+Math.sin(y*.4)*n,E.x=i+Math.sin(y)*i,$.y=n+Math.sin(y*.5)*n,$.x=i+Math.cos(y*.2)*i,O.draw(e),W.draw(e),E.draw(e),$.draw(e)},destroy(){}};class T{constructor(t=100,i=100,n=20,s="#ff0000"){r(this,"x",200);r(this,"y",100);r(this,"scaleX",1);r(this,"scaleY",1);r(this,"lineWidth",1);r(this,"color","");r(this,"radius",10);r(this,"rotation",0);this.x=t,this.y=i,this.color=s,this.radius=n}ratateTo({x:t,y:i}){let n=t-this.x,s=i-this.y;this.rotation=Math.atan2(s,n)}draw(t){t.save(),t.translate(this.x,this.y),t.rotate(this.rotation),t.scale(this.scaleX,this.scaleY),t.lineWidth=this.lineWidth,t.fillStyle=this.color,t.beginPath(),t.arc(0,0,this.radius,0,Math.PI*2,!0),t.closePath(),t.fill(),this.lineWidth>0&&t.stroke(),t.restore()}}const It=[Yt,Pt];D([...It,...Tt]);
