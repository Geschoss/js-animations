var ce=Object.defineProperty;var ue=(t,e,n)=>e in t?ce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var a=(t,e,n)=>(ue(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function ae(t,e){return e.expamples.find(({settings:n})=>n.name===t)}function oe(t,e){let n=new URLSearchParams(window.location.search);n.set(t,e),window.location.search=`${n}`}function fe(){let t=new URLSearchParams(window.location.search);return{chapter:t.get("chapter")||"",example:t.get("example")||""}}function ye(t,e){let n=e[t];return n??Object.values(e)[0]}function me(t,e){let n=ae(t,e);return n??e.expamples[0]}const ge=()=>{let t={chapters:document.getElementById("chapters_menu"),examples:document.getElementById("examples_menu"),canvas:document.getElementById("canvas"),body:document.body};return{...t,updateExamplesMenu:pe(t.examples),updateChaptersMenu:we(t.chapters)}};function pe(t){return(e,n,s)=>{ve(t);let i;e.expamples.forEach(r=>{let l=document.createElement("div");l.classList.add("menu__item"),l.innerText=r.settings.name,n===r&&(i=l,i.classList.add("menu__item_selected")),l.addEventListener("click",()=>{i!==l&&(i&&i.classList.remove("menu__item_selected"),i=l,i.classList.add("menu__item_selected"),oe("example",r.settings.name),s(r.settings.name))}),t.appendChild(l)})}}function we(t){return(e,n,s)=>{let i;Object.keys(e).forEach(r=>{let l=e[r],o=document.createElement("div");o.classList.add("menu__item"),o.innerText=l.name,n===l&&(i=o,i.classList.add("menu__item_selected")),o.addEventListener("click",()=>{i!==o&&(i&&i.classList.remove("menu__item_selected"),i=o,i.classList.add("menu__item_selected"),oe("chapter",r),s(r))}),t.appendChild(o),s(n.name)})}}function ve(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function _e(t){const e=t.reduce((y,k)=>({...y,[k.name]:k}),{}),n=ge(),s=fe(),i=n.canvas.getContext("2d");let r=ye(s.chapter,e),l,o,L=!0;n.updateChaptersMenu(e,r,de);function de(y){Z(),r=e[y],l=me(s.example,r),n.updateExamplesMenu(r,l,he),ee()}function he(y){Z(),l=ae(y,r),ee()}function Z(){o&&cancelAnimationFrame(o),l&&l.inited&&l.destroy(n.canvas)}function ee(){L=!0;let y={width:l.settings.width||n.body.offsetWidth,height:l.settings.height||n.body.offsetHeight};n.canvas.width=y.width,n.canvas.height=y.height,l.init(n.canvas,y),l.inited=!0,te()}function te(){L&&i.clearRect(0,0,n.canvas.width,n.canvas.height);let y={width:n.canvas.width,height:n.canvas.height},k=l.render(i,y);typeof k=="boolean"&&(L=k),o=requestAnimationFrame(te)}}class A{constructor(e){a(this,"x",0);a(this,"y",0);a(this,"rect");a(this,"canvas");a(this,"move",e=>{let n=0,s=0;e.pageX||e.pageY?(n=e.pageX,s=e.pageY):(n=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,s=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),n-=this.canvas.offsetLeft,s-=this.canvas.offsetTop,this.x=n,this.y=s});this.canvas=e,e.addEventListener("mousemove",this.move,!1)}destroy(){this.canvas.removeEventListener("mousemove",this.move,!1)}}let g=class{constructor(e=0,n=0,s=0,i="#ff6600"){a(this,"x");a(this,"y");a(this,"r");a(this,"c");a(this,"vx");a(this,"vy");a(this,"originX");a(this,"originY");this.x=e,this.y=n,this.r=s,this.c=i,this.vx=0,this.vy=0,this.originX=e,this.originY=n}set(e,n){this.x=e,this.y=n}think(e,n){let s=this.x-e.x,i=this.y-e.y;if(Math.sqrt(s*s+i*i)<e.r){let l=Math.atan2(i,s),o=e.x+Math.cos(l)*e.r,L=e.y+Math.sin(l)*e.r;this.vx+=o-this.x,this.vy+=L-this.y}this.vx+=n.spring.vx(this.x,this.originX,n),this.vy+=n.spring.vy(this.y,this.originY,n),this.vx*=n.friction.vx(this.x,this.originX,n),this.vy*=n.friction.vy(this.x,this.originX,n),this.x+=this.vx,this.y+=this.vy}render(e){e.beginPath(),e.arc(this.x,this.y,this.r,0,2*Math.PI),e.fillStyle=this.c,e.fill(),e.closePath()}};class Me{constructor(e){a(this,"x",0);a(this,"y",0);a(this,"pressed",!1);a(this,"rect");a(this,"canvas");a(this,"touch_start",()=>{this.pressed=!0});a(this,"touch_end",()=>{this.pressed=!1,this.x=0,this.y=0});a(this,"touch_move",e=>{let n=0,s=0,i=e.touches[0];i.pageX||i.pageY?(n=i.pageX,s=i.pageY):(n=i.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,s=i.clientY+document.body.scrollTop+document.documentElement.scrollTop),n-=this.canvas.offsetLeft,s-=this.canvas.offsetTop,this.x=n,this.y=s});this.canvas=e,e.addEventListener("touchstart",this.touch_start,!1),e.addEventListener("touchmove",this.touch_move,!1),e.addEventListener("touchend",this.touch_end,!1)}destroy(){this.canvas.removeEventListener("touchstart",this.touch_start,!1),this.canvas.removeEventListener("touchmove",this.touch_move,!1),this.canvas.removeEventListener("touchend",this.touch_end,!1)}}class xe{constructor(){a(this,"keydown",e=>{console.log(e.code)});a(this,"keyup",e=>{console.log(e.code)});window.addEventListener("keydown",this.keydown,!1),window.addEventListener("keyup",this.keyup,!1)}destroy(){window.removeEventListener("keydown",this.keydown,!1),window.removeEventListener("keyup",this.keyup,!1)}}let R,K,N,ne;const be={settings:{name:"arrow"},init(t){K=new Ee(150,150),R=new A(t),N=new g(100,100,20,"#eebe0a"),ne=new xe},render(t){N.set(R.x,R.y),N.render(t),K.ratateTo(R),K.draw(t)},destroy(){ne.destroy()}};class Ee{constructor(e=0,n=0,s="#ffff00"){a(this,"x");a(this,"y");a(this,"color","");a(this,"rotation",0);this.x=e,this.y=n,this.color=s,this.rotation=0}ratateTo({x:e,y:n}){let s=e-this.x,i=n-this.y;this.rotation=Math.atan2(i,s)}draw(e){e.save(),e.translate(this.x,this.y),e.rotate(this.rotation),e.lineWidth=2,e.fillStyle=this.color,e.beginPath(),e.moveTo(-50,-25),e.lineTo(0,-25),e.lineTo(0,-50),e.lineTo(50,0),e.lineTo(0,50),e.lineTo(0,25),e.lineTo(-50,25),e.lineTo(-50,-25),e.closePath(),e.fill(),e.stroke(),e.restore()}}let $={x:0,y:0},p={x:0,y:0},W;const Le={settings:{name:"distance"},init(t,e){W=new A(t),$.x=Math.random()*e.width,$.y=Math.random()*e.height,p.x=Math.random()*e.width,p.y=Math.random()*e.height},render(t){t.fillStyle="#000000",t.fillRect($.x-2,$.y-2,4,4),t.fillStyle="#ff0000",t.fillRect(p.x-2,p.y-2,4,4),t.font="30px Arial",t.fillText(`points distance: ${ie($,p)}`,10,100),t.fillText(`mouse distance: ${ie(W,p)}`,10,130),t.beginPath(),t.moveTo(p.x,p.y),t.lineTo(W.x,W.y),t.closePath(),t.stroke()},destroy(){}};function ie(t,e){let n=t.x-e.x,s=t.y-e.y;return Math.sqrt(n*n+s*s).toFixed(2)}class m{constructor(e=100,n=100,s=20,i="#ff0000"){a(this,"x",200);a(this,"y",100);a(this,"scaleX",1);a(this,"scaleY",1);a(this,"lineWidth",1);a(this,"color","");a(this,"radius",10);a(this,"rotation",0);this.x=e,this.y=n,this.color=i,this.radius=s}ratateTo({x:e,y:n}){let s=e-this.x,i=n-this.y;this.rotation=Math.atan2(i,s)}render(e){e.save(),e.translate(this.x,this.y),e.rotate(this.rotation),e.scale(this.scaleX,this.scaleY),e.lineWidth=this.lineWidth,e.fillStyle=this.color,e.beginPath(),e.arc(0,0,this.radius,0,Math.PI*2,!0),e.closePath(),e.fill(),this.lineWidth>0&&e.stroke(),e.restore()}}let w,x={angle:0,centrY:200,range:50,xspeed:3,yspeed:.05},q,v={angle:0,centryScale:1,range:.5,speed:.1},D,c={angleX:0,angleY:0,range:150,centerX:0,centerY:0,xspeed:.07,yspeed:.11};const ke={settings:{name:"liner"},init(t,e){w=new m(0,0),q=new m(e.width/2,e.height/2,30,"#00ff00"),D=new m(e.width/2,e.height/2,30,"#0000ff"),c.centerX=e.width/2,c.centerY=e.height/2},render(t,e){return x.angle+=x.yspeed,w.x+=x.xspeed,w.y=x.centrY/2+Math.sin(x.angle)*x.range,w.x>e.width+w.radius&&(w.x=-w.radius,x.range+=1),q.scaleX=v.centryScale+Math.sin(v.angle)*v.range,q.scaleY=v.centryScale+Math.sin(v.angle)*v.range,v.angle+=v.speed,D.x=c.centerX+Math.sin(c.angleX)*c.range,D.y=c.centerY+Math.sin(c.angleY)*c.range,c.angleX+=c.xspeed,c.angleY+=c.yspeed,c.range+=.01,q.render(t),w.render(t),D.render(t),!1},destroy(){}};let _,b,T=0,se=0,re=0,le=100,$e=.02;const Te={settings:{name:"circle"},init(t,e){_=new m(200,200,40,"#11bbff"),b=new m(200,200,20,"#00ffff"),se=e.width/2,re=e.height/2},render(t){T+=$e,_.x=se+Math.sin(T)*le,_.y=re+Math.cos(T)*le,b.x=_.x+Math.sin(T*2)*100,b.y=_.y+Math.cos(T*2)*40,_.y-b.y>0?(b.render(t),_.render(t)):(_.render(t),b.render(t))},destroy(){}};let U,z,F,j,H,f=40,M=0;const Pe={settings:{name:"waves"},init(t,e){U=new m(e.width/2,e.height/2,f,"#ffee00"),z=new m(e.width/2,e.height/2,f,"#00ff00"),F=new m(e.width/2,e.height/2,f,"#0000ff"),j=new m(e.width/2,e.height/2,f,"#f0f0f0"),H=new m(e.width/2,e.height/2,f)},render(t,e){M+=.03;let n=e.width/2,s=e.height/2;U.x=n+Math.sin(M*.2)*(n-f),z.y=s+Math.sin(M*.3)*(s-f),F.y=s+Math.sin(M*.4)*(s-f),F.x=n+Math.sin(M)*(n-f),j.y=s+Math.sin(M*.5)*(s-f),j.x=n+Math.cos(M*.2)*(n-f),H.x=n+Math.sin(M*2)*(n-f),U.render(t),z.render(t),F.render(t),j.render(t),H.render(t)},destroy(){}},Xe=[Le,Te,ke,Pe,be],Ye={name:"Trigonometry for Animation",expamples:Xe};let P,G,X,Se={friction:Oe(),spring:Be()};const Ce={settings:{name:"balls_2"},init:(t,e)=>{P=new A(t),G=Ie(2e3,e),X=new g(100,100,20,"#eebe0a")},render:(t,e)=>{X.set(P.x,P.y),X.render(t),G.forEach(n=>{n.think(X,{...e,...Se}),n.render(t)})},destroy(){P.destroy(),P=void 0,G=void 0,X=void 0}};function Ie(t,e){let n=[],s=e.width/10,i=e.height/10;for(let r=0;r<t;r++){let l=s+Math.random()*(e.width-s*2),o=i+Math.random()*(e.height-i*2);n.push(new g(l,o,l>e.width/2?2:3,l>e.width/2?"#00bcd4":"#bdb76b"))}return n}function Be(){let t=0,e=0;return{vx(n,s,i){let r=s>i.width/2?t:e;return-(n-s)*r},vy(n,s,i){let r=s>i.width/2?t:e;return-(n-s)*r}}}function Oe(){let t=.99,e=.4;return{vx(n,s,i){return s>i.width/2?t:e},vy(n,s,i){return s>i.width/2?t:e}}}let Y,J,S,Ae={friction:De(.5),spring:qe(.01)};const Re={settings:{name:"balls"},init:(t,e)=>{Y=new A(t),J=We(2e3,e),S=new g(100,100,20,"#eebe0a")},render:t=>{S.set(Y.x,Y.y),S.render(t),J.forEach(e=>{e.think(S,Ae),e.render(t)})},destroy(){Y.destroy(),Y=void 0,J=void 0,S=void 0}};function We(t,e){let n=[],s=e.width/10,i=e.height/10;for(let r=0;r<t;r++){let l=s+Math.random()*(e.width-s*2),o=i+Math.random()*(e.height-i*2);n.push(new g(l,o,2,"#ff0000"))}return n}function qe(t){return{vx(e,n){return-(e-n)*t},vy(e,n){return-(e-n)*t}}}function De(t){return{vx(){return t},vy(){return t}}}let C,Q,I,Fe={friction:nt(.8),spring:tt(.007)};const je={settings:{name:"p_dor"},init:t=>{C=new A(t),Q=Ue().map(e=>(e.set(100+Math.random()*500,100+Math.random()*400),e)),I=new g(100,100,20,"#eebe0a")},render:t=>{I.set(C.x,C.y),I.render(t),Q.forEach(e=>{e.think(I,Fe),e.render(t)})},destroy(){C.destroy(),C=void 0,Q=void 0,I=void 0}},Ke="#ff0000",Ne=2,h=(t,e,n=Ke)=>new g(t,e,Ne,n),d=20;function Ue(){return[...ze(),...He(),...Ge(),...Je(),...Qe(),...Ve(),...Ze()]}function ze(){return[...u(200,250,d,t=>h(t,100)),...u(100,150,d,t=>h(225,t))]}function He(){return[...u(100,150,d,t=>h(270,t)),...O(270,135,d),...u(100,150,d,t=>h(310,t))]}function Ge(){return[...u(170,220,d,t=>h(150,t)),...u(150,170,d,t=>h(t,170)),...u(170,220,d,t=>h(170,t))]}function Je(){return[...u(170,220,d,t=>h(190,t)),...et(190,220,d),...u(170,220,d,t=>h(230,t))]}function Qe(){return[...u(170,220,d,t=>h(260,t)),...O(260,195,d,25)]}function Ve(){return[...O(325,185,d,15,1),...u(180,210,d,t=>h(310,t)),...u(180,210,d,t=>h(340,t)),...O(325,205,d,15,2)]}function Ze(){return[...u(170,220,d,t=>h(370,t)),...O(370,185,d,15,1.5)]}function O(t,e,n,s=15,i=1.5){let r=[];for(var l=0;l<=n;l++)r.push(h(t+s*Math.cos(Math.PI*l/n+Math.PI*i),e+s*Math.sin(Math.PI*l/n+Math.PI*i)));return r}function et(t,e,n){let s=[];for(var i=0;i<n;i++)s.push(h(t+2*i,e-2.5*i));return s}function u(t,e,n,s){let i=e-t,r=Math.trunc(i/(n-1)),l=[];for(let o=t;o<=e;o+=r)l.push(s(o));return l}function tt(t){return{vx(e,n){return-(e-n)*t},vy(e,n){return-(e-n)*t}}}function nt(t){return{vx(){return t},vy(){return t}}}let V,B,E,it={friction:at(.99),spring:lt(0)};const st={settings:{name:"balls_touch"},init:(t,e)=>{E=new Me(t),V=rt(2e3,e),B=new g(e.width/2,e.height/2,30,"#eebe0a")},render:t=>{E.pressed&&B.set(E.x,E.y),B.render(t),V.forEach(e=>{e.think(B,it),e.render(t)})},destroy(){E.destroy(),E=void 0,V=void 0,B=void 0}};function rt(t,e){let n=[],s=e.width/20,i=e.height/20;for(let r=0;r<t;r++){let l=s+Math.random()*(e.width-s*2),o=i+Math.random()*(e.height-i*2);n.push(new g(l,o,2,"#00bcd4"))}return n}function lt(t){return{vx(e,n){return-(e-n)*t},vy(e,n){return-(e-n)*t}}}function at(t){return{vx(){return t},vy(){return t}}}const ot=[st,Re,Ce,je],dt={name:"hello world",expamples:ot};_e([Ye,dt]);
